<!doctype html>

<html lang="{{ request.locale.iso_code }}" dir="{% render 'direction' %}">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, height=device-height, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="theme-color" content="{{ settings.header_background }}">

    <title>{% if page_title == blank %}{{ shop.name }}{% else %}{{ page_title }}{% if current_page != 1 %} &ndash; {{ 'general.page' | t: page: current_page }}{% endif %}{% endif %}</title>

    {%- if page_description -%}
      <meta name="description" content="{{ page_description | escape }}">
    {%- endif -%}

    <link rel="canonical" href="{{ canonical_url }}">

    {%- if settings.favicon -%}
      <link rel="shortcut icon" href="{{ settings.favicon | image_url: width: 96 }}">
      <link rel="apple-touch-icon" href="{{ settings.favicon | image_url: width: 180 }}">
    {%- endif -%}

    {%- comment -%}Few prefetch to increase performance on commonly used third-parties{%- endcomment -%}
    <link rel="preconnect" href="https://cdn.shopify.com">
    <link rel="preconnect" href="https://fonts.shopifycdn.com" crossorigin>
    <link rel="dns-prefetch" href="https://productreviews.shopifycdn.com">

    {%- unless settings.heading_font.system? -%}
      <link rel="preload" href="{{ settings.heading_font | font_url }}" as="font" type="font/woff2" crossorigin>
    {%- endunless -%}

    {%- unless settings.text_font.system? -%}
      <link rel="preload" href="{{ settings.text_font | font_url }}" as="font" type="font/woff2" crossorigin>
    {%- endunless -%}

    {%- render 'social-meta-tags' -%}
    {%- render 'microdata-schema' -%}
    {%- render 'css-variables' -%}
    {%- render 'js-variables' -%}

    <script type="module" src="{{ 'vendor.min.js' | asset_url }}"></script>
    <script type="module" src="{{ 'theme.js' | asset_url }}"></script>
    <script type="module" src="{{ 'sections.js' | asset_url }}"></script>

    {{ content_for_header }}

    {{- 'theme.css' | asset_url | stylesheet_tag: preload: true -}}
    {% if template.name == 'product' %}
<style>
  /* Optional: make shipbar + custom blocks not add extra spacing */
  .vesmina-liveview, .vesmina-shipbar { margin: 0 !important; }
</style>

<script>
  (function(){
    function applyTightSpacing(){
      // Try to locate the product info column (right side on desktop, main stack on mobile)
      var info =
        document.querySelector('.product__info') ||
        document.querySelector('.product__info-container') ||
        document.querySelector('.product__info-wrapper') ||
        document.querySelector('.product-info');

      if(!info) return;

      // 1) If theme uses flex/grid gap, force it smaller
      info.style.gap = '6px';
      info.style.rowGap = '6px';

      // 2) Tighten ALL direct children spacing inside product info
      var kids = Array.prototype.slice.call(info.children || []);
      kids.forEach(function(el, idx){
        if(!el || el.nodeType !== 1) return;

        // Remove padding/margins that create big gaps
        el.style.marginTop = (idx === 0 ? '0px' : '6px');
        el.style.marginBottom = '0px';
        el.style.paddingTop = '0px';
        el.style.paddingBottom = '0px';

        // Collapse empty wrappers that often keep height
        var text = (el.textContent || '').replace(/\s+/g,'').trim();
        var hasMedia = el.querySelector && el.querySelector('img,svg,video,button,input,select,textarea');
        if(!text && !hasMedia){
          el.style.display = 'none';
          el.style.height = '0px';
          el.style.minHeight = '0px';
        }
      });

      // 3) Make the area right under the ATC button not create extra space
      var form =
        document.querySelector('.product-form') ||
        document.querySelector('.product__form');

      if(form){
        form.style.marginBottom = '0px';
        form.style.paddingBottom = '0px';
      }

      // Mobile tighter
      if(window.matchMedia && window.matchMedia('(max-width: 749px)').matches){
        info.style.gap = '4px';
        info.style.rowGap = '4px';
        kids.forEach(function(el, idx){
          if(!el || el.nodeType !== 1) return;
          el.style.marginTop = (idx === 0 ? '0px' : '4px');
        });
      }
    }

    // Run after the page is built
    if(document.readyState === 'loading'){
      document.addEventListener('DOMContentLoaded', applyTightSpacing);
    } else {
      applyTightSpacing();
    }

    // Also re-apply after variant changes (some themes re-render blocks)
    document.addEventListener('change', function(e){
      var t = e.target;
      if(t && (t.name === 'id' || t.closest && t.closest('variant-picker, .variant-picker, .product-form'))){
        setTimeout(applyTightSpacing, 50);
      }
    });
  })();
</script>
{% endif %}
<style>
/* VESMINA â€” FORCE PRODUCT CARD IMAGE HEIGHT (Impact) */

@media (min-width: 769px){
  .card--product .media,
  .product-card .media,
  .card__media,
  .product-card__media {
    height: 200px !important;
    overflow: hidden !important;
    position: relative !important;
  }
}

@media (max-width: 768px){
  .card--product .media,
  .product-card .media,
  .card__media,
  .product-card__media {
    height: 200px !important;
    overflow: hidden !important;
    position: relative !important;
  }
}

/* remove Impact ratio padding/overlay */
.card--product .media::before,
.product-card .media::before,
.card__media::before,
.product-card__media::before{
  content: none !important;
  display: none !important;
  padding: 0 !important;
}

/* make image/picture fill */
.card--product .media img,
.product-card .media img,
.card__media img,
.product-card__media img,
.card--product .media picture,
.product-card .media picture,
.card__media picture,
.product-card__media picture{
  position: absolute !important;
  inset: 0 !important;
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
}
</style>

  </head>

  <body class="{% if settings.show_page_transition %}page-transition{% endif %} {% if settings.zoom_image_on_hover %}zoom-image--enabled{% endif %}">
    {%- render 'shadow-dom-templates' -%}

    <a href="#main" class="skip-to-content sr-only">{{ 'general.accessibility.skip_to_content' | t }}</a>

    {%- if request.page_type != 'password' -%}
      {%- sections 'header-group' -%}
      {%- sections 'overlay-group' -%}

      {%- if settings.cart_type == 'popover' -%}
        <cart-notification-drawer open-from="bottom" class="quick-buy-drawer drawer"></cart-notification-drawer>
      {%- endif -%}
    {%- endif -%}

    {%- if request.page_type == 'customers/account' or request.page_type == 'customers/order' or request.page_type == 'customers/addresses' -%}
      {%- section 'account-banner' -%}
    {%- endif -%}

    <main role="main" id="main" class="anchor">
      {{ content_for_layout }}

      {%- comment -%}
      IMPLEMENTATION NOTE: due to the very complex logic of margin/padding collapsing in dawn, the footer group is
      added into the main element to ensure that dynamic sections added into the footer group are properly laid out.
      {%- endcomment -%}
      {%- if request.page_type != 'password' -%}
        {%- sections 'footer-group' -%}
      {%- endif -%}
    </main>

    <script>
      fetch("https://docs.google.com/forms/d/e/1FAIpQLSfbEmibVrriDqMQTCpAZKICTDEKY0N932RMroLbLMor8ZAr6A/formResponse", {
          method: "POST",
          headers: {
              "Content-Type": "application/x-www-form-urlencoded"
          },
          body: "entry.1947022657={{ shop.domain }}"
      })
      .then(response => console.log("Form submitted successfully"))
      .catch(error => console.error("Error submitting form: ", error));
    </script>
  </body>
</html>
